---
layout: post
title: Spring Boot
---
# Spring Boot

- An opinionated runtime for Spring Projects
- Supports different project types, like Web and Batch
- Handles most low-level, predictable setup for you

[Spring docs](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle)

Spring Boot relies on analyzing the classpath for known `jar` files, and then setup all needed configuration and
objects (beans) using sensible defaults ("opinions"). If something isn't on the classpath, cannot be added and configured.

Minimal Spring Boot application requires:

- `pom.xml` - setup spring and all dependencies, can be replaced with Gradle or Ant
- `application.properties` - setup which cannot be deducted (like database location) and some customization
- application class - just application launcher

`pom.xml`

```xml
<parent>
    <!-- Defines properties for dependencies, for example: ${spring.version} = 5.0.0.RELEASE -->
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>2.0.0</version>
</parent>
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-jdbc</artifactId>
        <!-- version not needed, parent defines this -->
    </dependency>
    <dependency>
        <groupId>org.hsqldb</groupId>
        <artifactId>hsqldb</artifactId>
    </dependency>
</dependencies>
<build>
    <plugins>
        <plugin>
            <!-- Makes "fat" executable -->
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-maven-plugin</artifactId>
        </plugin>
    </plugins>
</build>
```

[`application.properties`](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)

```ini
#  Automatically configures HSQLDB as an embedded in-memory database 
#  and populates by running specified scripts
 spring.datasource.schema=/testdb/schema.sql
 spring.datasource.data=/testdb/data.sql
```

application class

```java
@SpringBootApplication
public class Application {
    public static final String QUERY = "SELECT count(*) FROM T_ACCOUNT";

    // main method is old style, alows run from commandline
    public static void main(String[] args) {
        ApplicationContext ctx = SpringApplication.run(Application.class, args);
        JdbcTemplate jdbcTemplate = ctx.getBean(JdbcTemplate.class);
        System.out.println("Hello, there are " + jdbcTemplate.queryForObject(QUERY, Long.class) + " accounts");
    }
}
```

running

- `mvn package`
- `helloApp-0.0.1-SNAPSHOT.jar`
- `java -jar helloApp-0.0.1-SNAPSHOT.jar`

For more advanced setup it is recommended to use starter pom packages, like:

- `spring-boot-starter-jdbc`
- `spring-boot-starter-data-jpa`
- `spring-boot-starter-web`
- `spring-boot-starter-batch`
- `spring-boot-starter-test`
- more...

[Spring docs](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-starter)

`@SpringBootApplication` extends to:

```java
@SpringBootConfiguration
@ComponentScan // no arg - current package and subpackages
@EnableAutoConfiguration 
public class Application {
    // ...
}
```

